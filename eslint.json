[{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\build\\assets\\CarDetailPage-CGW1SOO5.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\build\\assets\\CarsPage-Ca0joFxU.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\build\\assets\\CheckoutSuccessPage-aXU-EVoN.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\build\\assets\\ContactPage-COPn2cq5.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\build\\assets\\EngineeringPage-CUFDjGkq.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\build\\assets\\HomePage-CxsDIQQO.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\build\\assets\\ImageWithSkeleton-ZV6Q3vKD.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\build\\assets\\JourneyPage--kqPK0Nj.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\build\\assets\\LoginPage-JrhTiK35.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\build\\assets\\ParticlesCanvas-Ca-ciCAI.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\build\\assets\\SEO-BMHTTd-N.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\build\\assets\\SignupPage-D_iQ9Qfe.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\build\\assets\\cars-CU12Ty8P.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\build\\assets\\index-DNmIDPvK.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\build\\assets\\vendor-auth-3YfAq9Bl.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\build\\assets\\vendor-react-DFdF6lrq.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\build\\assets\\vendor-state-BAAKW-8u.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\build\\assets\\vendor-stripe-l0sNRNKZ.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\build\\assets\\vendor-three-Ds55E3YB.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\api\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\auth\\ProtectedRoute.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\layout\\Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\layout\\Navbar.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\layout\\Navbar.tsx:47:9\n  45 |     /* ── Close mobile menu on route change ── */\n  46 |     useEffect(() => {\n> 47 |         setIsMobileMenuOpen(false);\n     |         ^^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  48 |     }, [location.pathname]);\n  49 |\n  50 |     /* ── Smart navigation handler ── */","line":47,"column":9,"nodeType":null,"endLine":47,"endColumn":28}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useCallback } from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { useAppSelector } from '../../store/hooks';\r\nimport { useAuth } from '../../context/auth-context';\r\nimport './Navbar.css';\r\n\r\n/* ─── Enterprise Navigation Configuration (rendering-hoist-jsx) ─── */\r\n\r\ninterface NavigationItem {\r\n    id: string;\r\n    label: string;\r\n    path: string;\r\n    /** If set, scrolls to this element ID on the homepage instead of routing */\r\n    sectionAnchor?: string;\r\n}\r\n\r\nconst NAVIGATION_ITEMS: NavigationItem[] = [\r\n    { id: 'nav-vehicles', label: 'Vehicles', path: '/vehicles' },\r\n    { id: 'nav-journey', label: 'Our Journey', path: '/journey' },\r\n    { id: 'nav-engineering', label: 'Engineering', path: '/engineering' },\r\n    { id: 'nav-contact', label: 'Contact', path: '/contact' },\r\n];\r\n\r\n/* ─── Navbar Component ─── */\r\n\r\nconst Navbar = () => {\r\n    const [isScrolled, setIsScrolled] = useState(false);\r\n    const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n    const garageCount = useAppSelector((state) => state.garage.savedVehicleIds.length);\r\n    const { user, signOut } = useAuth();\r\n    const [isUserMenuOpen, setIsUserMenuOpen] = useState(false);\r\n\r\n    /* ── Scroll detection (client-passive-event-listeners rule) ── */\r\n    const handleScroll = useCallback(() => {\r\n        setIsScrolled(window.scrollY > 50);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('scroll', handleScroll, { passive: true });\r\n        return () => window.removeEventListener('scroll', handleScroll);\r\n    }, [handleScroll]);\r\n\r\n    /* ── Close mobile menu on route change ── */\r\n    useEffect(() => {\r\n        setIsMobileMenuOpen(false);\r\n    }, [location.pathname]);\r\n\r\n    /* ── Smart navigation handler ── */\r\n    const handleNavigation = useCallback(\r\n        (item: NavigationItem) => {\r\n            setIsMobileMenuOpen(false);\r\n\r\n            if (item.sectionAnchor) {\r\n                // If we're already on the homepage, just scroll\r\n                if (location.pathname === '/') {\r\n                    const element = document.getElementById(item.sectionAnchor);\r\n                    element?.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n                } else {\r\n                    // Navigate to homepage first, then scroll after render\r\n                    navigate('/');\r\n                    setTimeout(() => {\r\n                        const element = document.getElementById(item.sectionAnchor!);\r\n                        element?.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n                    }, 300);\r\n                }\r\n            } else {\r\n                navigate(item.path);\r\n            }\r\n        },\r\n        [location.pathname, navigate]\r\n    );\r\n\r\n    /* ── Active link detection ── */\r\n    const isActiveLink = (item: NavigationItem): boolean => {\r\n        if (item.sectionAnchor) return false;\r\n        if (item.path === '/vehicles') {\r\n            return location.pathname.startsWith('/vehicles');\r\n        }\r\n        return location.pathname === item.path;\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <nav\r\n                className={`as-navbar ${isScrolled ? 'as-navbar--scrolled' : ''}`}\r\n                role=\"navigation\"\r\n                aria-label=\"Primary Navigation\"\r\n            >\r\n                {/* ── Brand ── */}\r\n                <div className=\"as-navbar__brand\">\r\n                    <Link to=\"/\" className=\"as-navbar__logo\" aria-label=\"AutoSphere Home\">\r\n                        AUTOSPHERE\r\n                    </Link>\r\n                </div>\r\n\r\n                {/* ── Desktop Navigation ── */}\r\n                <div className=\"as-navbar__nav-group\">\r\n                    <ul className=\"as-navbar__nav-list\" role=\"menubar\">\r\n                        {NAVIGATION_ITEMS.map((item) => (\r\n                            <li key={item.id} role=\"none\">\r\n                                {item.sectionAnchor ? (\r\n                                    <button\r\n                                        className={`as-navbar__nav-link ${isActiveLink(item) ? 'as-navbar__nav-link--active' : ''}`}\r\n                                        onClick={() => handleNavigation(item)}\r\n                                        role=\"menuitem\"\r\n                                    >\r\n                                        {item.label}\r\n                                    </button>\r\n                                ) : (\r\n                                    <Link\r\n                                        to={item.path}\r\n                                        className={`as-navbar__nav-link ${isActiveLink(item) ? 'as-navbar__nav-link--active' : ''}`}\r\n                                        role=\"menuitem\"\r\n                                    >\r\n                                        {item.label}\r\n                                    </Link>\r\n                                )}\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n\r\n                {/* ── Actions ── */}\r\n                <div className=\"as-navbar__actions\">\r\n                    {/* Garage Counter */}\r\n                    <Link to=\"/vehicles\" className=\"as-navbar__garage-btn\" aria-label={`View your ${garageCount} saved vehicles`}>\r\n                        <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                            <path d=\"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\"></path>\r\n                        </svg>\r\n                        {garageCount > 0 && <span className=\"garage-badge\">{garageCount}</span>}\r\n                    </Link>\r\n\r\n                    {/* Auth State */}\r\n                    {user ? (\r\n                        <div className=\"as-navbar__user-menu\">\r\n                            <button\r\n                                className=\"as-navbar__avatar-btn\"\r\n                                onClick={() => setIsUserMenuOpen(!isUserMenuOpen)}\r\n                                aria-label=\"User menu\"\r\n                                aria-expanded={isUserMenuOpen}\r\n                                aria-haspopup=\"true\"\r\n                            >\r\n                                <span className=\"as-navbar__avatar\">\r\n                                    {(user.user_metadata?.full_name || user.email || 'U').charAt(0).toUpperCase()}\r\n                                </span>\r\n                            </button>\r\n                            {isUserMenuOpen && (\r\n                                <div className=\"as-navbar__dropdown\">\r\n                                    <div className=\"as-navbar__dropdown-header\">\r\n                                        <span>{user.user_metadata?.full_name || 'Member'}</span>\r\n                                        <span className=\"as-navbar__dropdown-email\">{user.email}</span>\r\n                                    </div>\r\n                                    <button\r\n                                        className=\"as-navbar__dropdown-item\"\r\n                                        onClick={() => { signOut(); setIsUserMenuOpen(false); }}\r\n                                    >\r\n                                        Sign Out\r\n                                    </button>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    ) : (\r\n                        <Link to=\"/login\" className=\"as-navbar__cta-btn\">\r\n                            Sign In\r\n                            <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                <path d=\"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4M10 17l5-5-5-5M15 12H3\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                            </svg>\r\n                        </Link>\r\n                    )}\r\n\r\n                    {/* ── Mobile menu toggle ── */}\r\n                    <button\r\n                        className={`as-navbar__hamburger ${isMobileMenuOpen ? 'as-navbar__hamburger--active' : ''}`}\r\n                        onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\r\n                        aria-label=\"Toggle menu\"\r\n                        aria-expanded={isMobileMenuOpen}\r\n                    >\r\n                        <span />\r\n                        <span />\r\n                        <span />\r\n                    </button>\r\n                </div>\r\n            </nav>\r\n\r\n            {/* ── Mobile Overlay Menu ── */}\r\n            <div className={`as-mobile-menu ${isMobileMenuOpen ? 'as-mobile-menu--open' : ''}`}>\r\n                <ul className=\"as-mobile-menu__list\">\r\n                    {NAVIGATION_ITEMS.map((item, index) => (\r\n                        <li\r\n                            key={item.id}\r\n                            className=\"as-mobile-menu__item\"\r\n                            style={{ transitionDelay: `${index * 0.08}s` }}\r\n                        >\r\n                            <button\r\n                                className=\"as-mobile-menu__link\"\r\n                                onClick={() => handleNavigation(item)}\r\n                            >\r\n                                <span className=\"as-mobile-menu__link-number\">0{index + 1}</span>\r\n                                {item.label}\r\n                            </button>\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n                <div className=\"as-mobile-menu__footer\">\r\n                    <Link\r\n                        to=\"/vehicles\"\r\n                        className=\"as-navbar__cta-btn as-navbar__cta-btn--mobile\"\r\n                        onClick={() => setIsMobileMenuOpen(false)}\r\n                    >\r\n                        Browse Collection\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Navbar;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\sections\\BrandsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\sections\\CollectionSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\sections\\ConciergeSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\sections\\EngineeringSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\sections\\HeroBanner.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\sections\\HeroBanner.tsx:16:13\n  14 |\n  15 |         if (video.readyState >= 3) {\n> 16 |             setLoaded(true);\n     |             ^^^^^^^^^ Avoid calling setState() directly within an effect\n  17 |         }\n  18 |\n  19 |         const onCanPlay = () => setLoaded(true);","line":16,"column":13,"nodeType":null,"endLine":16,"endColumn":22}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useRef, useEffect, useState } from 'react';\r\nimport './HeroBanner.css';\r\n\r\nconst HeroBanner = () => {\r\n    const videoRef = useRef<HTMLVideoElement>(null);\r\n    const [loaded, setLoaded] = useState(false);\r\n\r\n    // Dynamic video source for Vercel Blob or external CDN\r\n    const HERO_VIDEO_URL = import.meta.env.VITE_HERO_VIDEO_URL || \"/hero-video.mp4\";\r\n\r\n    useEffect(() => {\r\n        const video = videoRef.current;\r\n        if (!video) return;\r\n\r\n        if (video.readyState >= 3) {\r\n            setLoaded(true);\r\n        }\r\n\r\n        const onCanPlay = () => setLoaded(true);\r\n        video.addEventListener('canplay', onCanPlay);\r\n\r\n        // Attempt autoplay (muted is required by browsers)\r\n        video.play().catch(() => { });\r\n\r\n        return () => video.removeEventListener('canplay', onCanPlay);\r\n    }, []);\r\n\r\n    return (\r\n        <section className=\"hero-banner\" id=\"hero\">\r\n            {/* Full-viewport video background with poster fallback */}\r\n            <div className=\"hero-video-container\">\r\n                <video\r\n                    ref={videoRef}\r\n                    className={`hero-video ${loaded ? 'loaded' : ''}`}\r\n                    src={HERO_VIDEO_URL}\r\n                    poster=\"/cars/journey-hero.png\"\r\n                    autoPlay\r\n                    muted\r\n                    loop\r\n                    playsInline\r\n                    preload=\"auto\"\r\n                />\r\n            </div>\r\n\r\n            {/* Cinematic vignette + bottom gradient overlay */}\r\n            <div className=\"hero-vignette\" />\r\n\r\n            {/* Text overlay at bottom */}\r\n            <div className=\"hero-overlay\">\r\n                <span className=\"hero-label\">Explore the Elite</span>\r\n                <h1 className=\"hero-title\">\r\n                    The Pinnacle of<br /><em>Excellence</em>\r\n                </h1>\r\n                <p className=\"hero-subtitle\">\r\n                    Curating the world's most exclusive automobiles for the discerning few.\r\n                </p>\r\n                <a href=\"/vehicles\" className=\"hero-cta\">\r\n                    Discover the Collection\r\n                </a>\r\n            </div>\r\n\r\n            {/* Scroll indicator */}\r\n            <div className=\"hero-scroll\">\r\n                <div className=\"hero-scroll-line\" />\r\n                <span className=\"hero-scroll-text\">Scroll</span>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default HeroBanner;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\sections\\ReviewsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\sections\\StorySection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\stripe\\CheckoutButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\ui\\ImageWithSkeleton.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\ui\\ImageWithSkeleton.tsx:25:9\n  23 |     // Reset state if src changes\n  24 |     useEffect(() => {\n> 25 |         setLoaded(false);\n     |         ^^^^^^^^^ Avoid calling setState() directly within an effect\n  26 |         setError(false);\n  27 |     }, [src]);\n  28 |","line":25,"column":9,"nodeType":null,"endLine":25,"endColumn":18}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport type { ImgHTMLAttributes } from 'react';\r\nimport './ImageWithSkeleton.css';\r\n\r\ninterface ImageWithSkeletonProps extends ImgHTMLAttributes<HTMLImageElement> {\r\n    src: string;\r\n    alt: string;\r\n    skeletonClassName?: string;\r\n    fetchPriority?: 'high' | 'low' | 'auto';\r\n}\r\n\r\nconst ImageWithSkeleton = ({\r\n    src,\r\n    alt,\r\n    className = '',\r\n    skeletonClassName = '',\r\n    loading = 'lazy',\r\n    ...props\r\n}: ImageWithSkeletonProps) => {\r\n    const [loaded, setLoaded] = useState(false);\r\n    const [error, setError] = useState(false);\r\n\r\n    // Reset state if src changes\r\n    useEffect(() => {\r\n        setLoaded(false);\r\n        setError(false);\r\n    }, [src]);\r\n\r\n    return (\r\n        <div className={`img-skeleton-container ${skeletonClassName}`}>\r\n            {/* Skeleton Background */}\r\n            <div className={`img-skeleton ${loaded || error ? 'hidden' : ''}`} />\r\n\r\n            {/* The Image */}\r\n            <img\r\n                src={src}\r\n                alt={alt}\r\n                className={`img-skeleton-actual ${loaded ? 'visible' : ''} ${className}`}\r\n                onLoad={() => setLoaded(true)}\r\n                onError={() => setError(true)}\r\n                loading={loading}\r\n                decoding=\"async\"\r\n                {...props}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ImageWithSkeleton;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\ui\\ParticlesCanvas.tsx","messages":[{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nC:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\ui\\ParticlesCanvas.tsx:13:33\n  11 |         const positions = new Float32Array(count * 3);\n  12 |         for (let i = 0; i < count; i++) {\n> 13 |             positions[i * 3] = (Math.random() - 0.5) * 10;\n     |                                 ^^^^^^^^^^^^^ Cannot call impure function\n  14 |             positions[i * 3 + 1] = (Math.random() - 0.5) * 10;\n  15 |             positions[i * 3 + 2] = (Math.random() - 0.5) * 10;\n  16 |         }","line":13,"column":33,"nodeType":null,"endLine":13,"endColumn":46},{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nC:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\ui\\ParticlesCanvas.tsx:14:37\n  12 |         for (let i = 0; i < count; i++) {\n  13 |             positions[i * 3] = (Math.random() - 0.5) * 10;\n> 14 |             positions[i * 3 + 1] = (Math.random() - 0.5) * 10;\n     |                                     ^^^^^^^^^^^^^ Cannot call impure function\n  15 |             positions[i * 3 + 2] = (Math.random() - 0.5) * 10;\n  16 |         }\n  17 |         return positions;","line":14,"column":37,"nodeType":null,"endLine":14,"endColumn":50},{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nC:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\ui\\ParticlesCanvas.tsx:15:37\n  13 |             positions[i * 3] = (Math.random() - 0.5) * 10;\n  14 |             positions[i * 3 + 1] = (Math.random() - 0.5) * 10;\n> 15 |             positions[i * 3 + 2] = (Math.random() - 0.5) * 10;\n     |                                     ^^^^^^^^^^^^^ Cannot call impure function\n  16 |         }\n  17 |         return positions;\n  18 |     }, [count]);","line":15,"column":37,"nodeType":null,"endLine":15,"endColumn":50},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\ui\\ParticlesCanvas.tsx:56:9\n  54 |         // Handle accessibility preference for heavy motion\n  55 |         const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');\n> 56 |         setPrefersReducedMotion(mediaQuery.matches);\n     |         ^^^^^^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  57 |\n  58 |         const handleMotionChange = (e: MediaQueryListEvent) => {\n  59 |             setPrefersReducedMotion(e.matches);","line":56,"column":9,"nodeType":null,"endLine":56,"endColumn":32}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useRef, useMemo, useEffect, useState } from 'react';\r\nimport { Canvas, useFrame } from '@react-three/fiber';\r\nimport * as THREE from 'three';\r\n\r\n// Inner component to handle the particle animation logic\r\nconst ParticleField = ({ count = 600 }) => {\r\n    const pointsRef = useRef<THREE.Points>(null);\r\n\r\n    // Generate stable, random positions\r\n    const particles = useMemo(() => {\r\n        const positions = new Float32Array(count * 3);\r\n        for (let i = 0; i < count; i++) {\r\n            positions[i * 3] = (Math.random() - 0.5) * 10;\r\n            positions[i * 3 + 1] = (Math.random() - 0.5) * 10;\r\n            positions[i * 3 + 2] = (Math.random() - 0.5) * 10;\r\n        }\r\n        return positions;\r\n    }, [count]);\r\n\r\n    useFrame((state) => {\r\n        if (!pointsRef.current) return;\r\n        // Very slow, ambient rotation\r\n        pointsRef.current.rotation.y = state.clock.elapsedTime * 0.02;\r\n        pointsRef.current.rotation.x = Math.sin(state.clock.elapsedTime * 0.01) * 0.1;\r\n    });\r\n\r\n    return (\r\n        <points ref={pointsRef}>\r\n            <bufferGeometry>\r\n                <bufferAttribute\r\n                    attach=\"attributes-position\"\r\n                    args={[particles, 3]}\r\n                />\r\n            </bufferGeometry>\r\n            {/* Soft, small, slightly transparent gold/white particles */}\r\n            <pointsMaterial\r\n                size={0.015}\r\n                color=\"#c9a96e\"\r\n                transparent\r\n                opacity={0.4}\r\n                sizeAttenuation={true}\r\n                depthWrite={false}\r\n            />\r\n        </points>\r\n    );\r\n};\r\n\r\n// Main Export Component\r\nconst ParticlesCanvas = () => {\r\n    const [prefersReducedMotion, setPrefersReducedMotion] = useState(false);\r\n    const [dpr, setDpr] = useState(1);\r\n\r\n    useEffect(() => {\r\n        // Handle accessibility preference for heavy motion\r\n        const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');\r\n        setPrefersReducedMotion(mediaQuery.matches);\r\n\r\n        const handleMotionChange = (e: MediaQueryListEvent) => {\r\n            setPrefersReducedMotion(e.matches);\r\n        };\r\n        mediaQuery.addEventListener('change', handleMotionChange);\r\n\r\n        // Handle DPR for performance (lower DPR on mobile)\r\n        const isMobile = window.innerWidth <= 768;\r\n        setDpr(isMobile ? 1 : Math.min(2, window.devicePixelRatio || 1));\r\n\r\n        return () => mediaQuery.removeEventListener('change', handleMotionChange);\r\n    }, []);\r\n\r\n    // If the user prefers reduced motion, disable the particle canvas entirely\r\n    // to strictly adhere to Vercel accessibility guidelines.\r\n    if (prefersReducedMotion) return null;\r\n\r\n    return (\r\n        <div style={{ position: 'absolute', inset: 0, zIndex: 0, pointerEvents: 'none', overflow: 'hidden' }}>\r\n            <Canvas\r\n                camera={{ position: [0, 0, 5], fov: 60 }}\r\n                // Vercel rule: demand frameloop prevents constant rendering when idle.\r\n                // We use 'always' here only because we rotate the particles via useFrame,\r\n                // but if we tied rotation to scroll, we could use 'demand'.\r\n                // Given the slow ambient rotation and 'Stealth Wealth' vibe, 'always' is\r\n                // necessary, but we optimized with primitive arrays and low DPR.\r\n                frameloop=\"always\"\r\n                dpr={dpr}\r\n                gl={{ antialias: false, alpha: true }}\r\n            >\r\n                <ParticleField count={800} />\r\n            </Canvas>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Next.js/Vite optimized lazy-loading requires default export usually\r\nexport default ParticlesCanvas;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\ui\\SEO.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\components\\ui\\SkipLink.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\context\\auth-context.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":87,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":87,"endColumn":24}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createContext, useContext, useEffect, useState, useCallback, type ReactNode } from 'react';\r\nimport { supabase } from '../lib/supabase';\r\nimport type { User, Session, AuthError } from '@supabase/supabase-js';\r\n\r\n/* ─── Types ─── */\r\n\r\ninterface AuthContextType {\r\n    user: User | null;\r\n    session: Session | null;\r\n    isLoading: boolean;\r\n    signUp: (email: string, password: string, fullName: string) => Promise<{ error: AuthError | null }>;\r\n    signIn: (email: string, password: string) => Promise<{ error: AuthError | null }>;\r\n    signInWithGoogle: () => Promise<{ error: AuthError | null }>;\r\n    signOut: () => Promise<void>;\r\n}\r\n\r\n/* ─── Context ─── */\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\n/* ─── Provider ─── */\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const [session, setSession] = useState<Session | null>(null);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        // Get initial session\r\n        supabase.auth.getSession().then(({ data: { session: initialSession } }) => {\r\n            setSession(initialSession);\r\n            setUser(initialSession?.user ?? null);\r\n            setIsLoading(false);\r\n        });\r\n\r\n        // Listen for auth state changes (skill: never store tokens manually)\r\n        const { data: { subscription } } = supabase.auth.onAuthStateChange(\r\n            (_event, newSession) => {\r\n                setSession(newSession);\r\n                setUser(newSession?.user ?? null);\r\n                setIsLoading(false);\r\n            }\r\n        );\r\n\r\n        return () => subscription.unsubscribe();\r\n    }, []);\r\n\r\n    const signUp = useCallback(async (email: string, password: string, fullName: string) => {\r\n        const { error } = await supabase.auth.signUp({\r\n            email,\r\n            password,\r\n            options: {\r\n                data: { full_name: fullName },\r\n            },\r\n        });\r\n        return { error };\r\n    }, []);\r\n\r\n    const signIn = useCallback(async (email: string, password: string) => {\r\n        const { error } = await supabase.auth.signInWithPassword({ email, password });\r\n        return { error };\r\n    }, []);\r\n\r\n    const signInWithGoogle = useCallback(async () => {\r\n        const { error } = await supabase.auth.signInWithOAuth({\r\n            provider: 'google',\r\n            options: {\r\n                redirectTo: `${window.location.origin}/`,\r\n            },\r\n        });\r\n        return { error };\r\n    }, []);\r\n\r\n    const signOut = useCallback(async () => {\r\n        await supabase.auth.signOut();\r\n    }, []);\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ user, session, isLoading, signUp, signIn, signInWithGoogle, signOut }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n}\r\n\r\n/* ─── Hook ─── */\r\n\r\nexport function useAuth() {\r\n    const context = useContext(AuthContext);\r\n    if (context === undefined) {\r\n        throw new Error('useAuth must be used within an AuthProvider');\r\n    }\r\n    return context;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\data\\brands.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\data\\cars.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\data\\engineering.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\data\\reviews.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\data\\story.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\lib\\stripe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\lib\\supabase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\pages\\CarDetailPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\pages\\CarsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\pages\\CheckoutSuccessPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\pages\\ContactPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\pages\\EngineeringPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\pages\\HomePage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\pages\\JourneyPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\pages\\LoginPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\pages\\SignupPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\store\\garageSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\store\\hooks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\src\\store\\store.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\supabase\\functions\\stripe-webhook\\index.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[501,504],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[501,504],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":41,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1255,1258],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1255,1258],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":82,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":82,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2811,2814],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2811,2814],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { serve } from \"@std/http\"\r\nimport { createClient } from \"@supabase/supabase-js\"\r\nimport Stripe from \"stripe\"\r\n\r\nconst stripe = new Stripe(Deno.env.get('STRIPE_API_KEY') as string, {\r\n    apiVersion: '2023-10-16',\r\n    httpClient: Stripe.createFetchHttpClient(),\r\n})\r\n\r\nconst cryptoProvider = Stripe.createSubtleCryptoProvider()\r\n\r\nserve(async (req: Request) => {\r\n    const startTime = Date.now()\r\n    const signature = req.headers.get('Stripe-Signature')\r\n    const wideEvent: Record<string, any> = {\r\n        path: '/stripe-webhook',\r\n        method: req.method,\r\n        timestamp: new Date().toISOString(),\r\n    }\r\n\r\n    if (!signature) {\r\n        wideEvent.status = 400\r\n        wideEvent.error = 'No signature'\r\n        console.log(JSON.stringify(wideEvent))\r\n        return new Response('No signature', { status: 400 })\r\n    }\r\n\r\n    try {\r\n        const body = await req.text()\r\n        const webhookSecret = Deno.env.get('STRIPE_WEBHOOK_SECRET') as string\r\n\r\n        let event;\r\n        try {\r\n            event = await stripe.webhooks.constructEventAsync(\r\n                body,\r\n                signature,\r\n                webhookSecret,\r\n                undefined,\r\n                cryptoProvider\r\n            )\r\n        } catch (err: any) {\r\n            wideEvent.status = 400\r\n            wideEvent.error = `Signature verification failed: ${err.message}`\r\n            console.log(JSON.stringify(wideEvent))\r\n            return new Response(`Webhook Error: ${err.message}`, { status: 400 })\r\n        }\r\n\r\n        wideEvent.event_type = event.type\r\n\r\n        if (event.type === 'checkout.session.completed') {\r\n            const session = event.data.object\r\n            wideEvent.stripe_session_id = session.id\r\n\r\n            const supabaseAdmin = createClient(\r\n                Deno.env.get('SUPABASE_URL') ?? '',\r\n                Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') ?? ''\r\n            )\r\n\r\n            const { user_id, vehicle_id, vehicle_name } = session.metadata || {}\r\n            wideEvent.metadata = { user_id, vehicle_id, vehicle_name }\r\n\r\n            const { error } = await supabaseAdmin\r\n                .from('reservations')\r\n                .insert({\r\n                    user_id,\r\n                    vehicle_id,\r\n                    vehicle_name,\r\n                    price: session.amount_total ? session.amount_total / 100 : 0,\r\n                    stripe_session_id: session.id,\r\n                    status: 'confirmed'\r\n                })\r\n\r\n            if (error) {\r\n                wideEvent.db_error = error.message\r\n                throw error\r\n            }\r\n            wideEvent.outcome = 'reservation_created'\r\n        }\r\n\r\n        wideEvent.status = 200\r\n        return new Response(JSON.stringify({ received: true }), { status: 200 })\r\n    } catch (error: any) {\r\n        wideEvent.status = 500\r\n        wideEvent.error = error.message\r\n        return new Response('Webhook handler failed', { status: 500 })\r\n    } finally {\r\n        wideEvent.duration_ms = Date.now() - startTime\r\n        console.log(JSON.stringify(wideEvent))\r\n    }\r\n})\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Deepika\\.gemini\\antigravity\\playground\\dark-newton\\autosphere\\vite.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]